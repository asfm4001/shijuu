# Shijuu è¥¿å•¾ 
ä¸€å€‹ç°¡æ˜“çš„è³¼ç‰©ç¶²ç«™ï¼Œç®¡ç†è€…å¯æ–°å¢å•†å“ä¸¦ç®¡ç†è¨‚å–®ã€‚ä½¿ç”¨è€…å¯å°‡å•†å“åŠ å…¥è³¼ç‰©è»Šï¼Œæœ€å¾Œçµå¸³å¯ä½¿ç”¨é›»è©±æŸ¥è©¢è¨‚å–®ã€‚

## ğŸ’¡ Features 
* æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤å•†å“ä¸”å¯åˆ†é¡å±•ç¤º
* è¨»å†Šã€ç™»å…¥ã€ç™»å‡º
* ä½¿ç”¨è€…å¯å°‡å•†å“åŠ å…¥è³¼ç‰©è»Šï¼Œçµå¸³å¾Œè‡ªå‹•æˆç«‹è¨‚å–®ï¼ŒåŒæ™‚æ¸…ç©ºåŸå§‹è³¼ç‰©è»Š
* ç®¡ç†è€…å¯æŸ¥çœ‹æ‰€æœ‰è¨‚å–®ï¼ŒåŒæ™‚å¯ä¿®æ”¹ã€åˆªé™¤

**Pages**
* Home
* Products
  * éœ€æœ‰ç®¡ç†æ¬Šé™(is_admin)æ–¹å¯æ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤å•†å“
  * ä¸€èˆ¬ä½¿ç”¨è€…åƒ…æœ‰åŠ å…¥è³¼ç‰©è»ŠåŠŸèƒ½
* Categorys
  * é¡¯ç¤ºä¸åŒç¨®é¡å•†å“
* About
* Sign In / Register
  * ç™»å…¥èˆ‡è¨»å†Š
* CheckOut
  * å¡«å¯«æ”¶ä»¶ç›¸é—œè³‡æ–™ï¼Œä¸¦å„²å­˜è‡³è¨‚å–®ä¸­
* Orders
  * è¼¸å…¥è¨‚å–®è¯çµ¡äººé›»è©±å¯æŸ¥è©¢è¨‚å–®

 ***Feature Features***
  - ä¿®æ”¹ï¼š
    - [x] é™åˆ¶åƒ…ç®¡ç†æ¬Šé™å¯æŸ¥è©¢æ‰€æœ‰è¨‚å–® 113.11.28
    - [x] è³‡æ–™åº«æ”¹ç‚ºMySQL 113.11.28
    - [x] Factory(å·¥å» æ¨¡å¼) 113.12.19
    - [x] Blueprint(è—åœ–) 113.12.19
    - [ ] çµå¸³æ™‚ï¼Œè¼¸å…¥éŒ¯èª¤é¡¯ç¤ºæç¤ºè¨Šæ¯
    - [ ] å°‡è³¼ç‰©è»Šå„²å­˜è‡³cookieä¸­
    - [ ] è¨‚å–®ç·¨è™Ÿè¼¸å‡ºç‚ºhash
  - æ–°å¢ï¼š
    - [x] è¨‚å–®æŸ¥è©¢æ˜ç´°(å„é …å•†å“æ•¸é‡) 113.12.02
    - [x] ä¿®æ”¹è¨‚å–®å‡ºè²¨ç‹€æ…‹ã€ä»˜æ¬¾ç‹€æ…‹ 113.12.02
    - [x] 404 page 113.12.23
    - [x] Unit test 113.12.29
    - [ ] å•†å“æŸ¥è©¢é ç±¤
    - [ ] è¨‚å–®æŸ¥è©¢é ç±¤
    - [ ] é¦–é å…¬å‘Š
    - [ ] è¨‚å–®æŸ¥è©¢å¢åŠ è¨‚å–®ç·¨è™Ÿ
    - [ ] å¿˜è¨˜å¯†ç¢¼ã€å¯†ç¢¼æ›´æ”¹
    - [ ] è¨‚å–®æŸ¥è©¢è³‡æ–™ç­†æ•¸ç¯©é¸
    - [ ] å•†å“ç†±éŠ·ã€æŠ˜æ‰£æ¨™ç±¤
    - [ ] çµå¸³æµç¨‹
    - [ ] å¿«é€Ÿç™»éŒ„ã€è¨»å†Š(google, line)
    - [ ] Function test
  - ğŸBugs:
    - [ ] ä¸Šå‚³ç›¸åŒæª”åproductæ™‚ï¼Œæœªé¡¯ç¤ºé è­¦è¨Šæ¯
    - [ ] è³¼ç‰©è»Šæœªé¡¯ç¤ºå°è¨ˆé‡‘é¡

## æµç¨‹æ¦‚å¿µ 
ç®¡ç†è€…æ–°å¢å•†å“ > ä½¿ç”¨è€…åŠ å…¥è³¼ç‰©è»Š > ä½¿ç”¨è€…çµå¸³(æ–°å¢è¨‚å–®èˆ‡æ¸…ç©ºè³¼ç‰©è»Š) > ç®¡ç†è€…ç¢ºèªæ¬¾é …å…¥å¸³(æ›´æ”¹è¨‚å–®ç‹€æ…‹) > è£½ä½œå•†å“ > ç®¡ç†è€…å‡ºè²¨(æ›´æ”¹è¨‚å–®ç‹€æ…‹)ã€‚

## ğŸ”§ Related Work 
* åŸFlask-Bootstrapå› ç‰ˆæœ¬éèˆŠä¸æ”¯æ´Bootstrap 4 & 5ï¼Œæ”¹ä½¿ç”¨Bootstrap-Flask
* SQLAlchemy å¯ä½¿ç”¨MySQL(docker)
* Bcrypt é¿å…å„²å­˜userçœŸå¯¦å¯†ç¢¼
* Flask-Login ä½¿ç”¨sissionå„²å­˜userç‹€æ…‹
* Database Tables(1 to 1, 1 to n, n to n)
  * User
  * Cart
  * Product
  * Order
  * CartProduct(ä¸­ä»‹è¡¨)
  * OrderProduct(ä¸­ä»‹è¡¨)
  > User (1)->(1) Cart (1)->(n) CartProduct (1)->(n) Product
  > User (1)->(n) Order (1)->(n) CartProduct (1)->(n) Product
* Flaskä½¿ç”¨PyMySQLå¥—ä»¶é€£è‡³MySQLæ™‚ï¼Œéœ€å®‰è£cryptographyå¥—ä»¶

## ğŸš€ Run Locally
### Flask app (Development & Testing)
1. Cloneè‡³æœ¬åœ°ç«¯
  ``` git clone https://github.com/asfm4001/shijuu.git ```
2. é€²å…¥`shijuu/flask`
   ``` cd ./flask ```
3. éƒ¨ç½²è™›æ“¬ç’°å¢ƒä¸¦é€²å…¥
  ``` 
  python3 -m venv .venv
  source /bin/activate
  ```
4. install models
  ``` pip install -r requirements.txt ```
5. è‡ªå‹•åŒ–æ¸¬è©¦(éå¿…è¦)
  ``` pytest ```
6. èª¿æ•´```run.py```é€£ç·šè‡³æ¸¬è©¦ç’°å¢ƒè³‡æ–™åº«```create_app('test')```
    > devp/é–‹ç™¼, test/æ¸¬è©¦, prod/æ­£å¼(DBç‚ºMySQL)
7. åŸ·è¡Œflask
  ``` flask run ```
8. åœ¨[é€™è£¡](http://localhost:5000/)å¯è¨ªå•Shijuu è¥¿å•¾
9. æ¸¬è©¦ç”¨å¸³è™Ÿå¯†ç¢¼ã€data
   * user/password: test123/test123
   * admin/password: superadmin/superadmin
   * è¨‚å–®æŸ¥è©¢/è¯çµ¡é›»è©±: 0800000123
10. é—œé–‰flask server
  <kdb>ctrl</kdb> + <kdb>c</kdb>
11.  é€€å‡ºè™›æ“¬ç’°å¢ƒ
  ``` deactivate ```

### Nginx + Flask(Gnuicorn) + MySQL  (Production with docker compose)
1. ç¢ºä¿æœ¬æ©Ÿå·²å®‰è£docker, åœ¨[é€™è£¡ä¸‹è¼‰docker](https://docs.docker.com/get-started/get-docker/)
2. ç¢ºä¿æœ¬æ©Ÿ80portç„¡é€²ç¨‹ä½”ç”¨ï¼ŒNginxæœƒä½¿ç”¨80port
3. å•Ÿå‹•docker compose
   ``` docker compose up ```
4. é—œé–‰docker compose
   ``` docker compose down ```

## ğŸ—‚ï¸ File Structure 
```
.
â”œâ”€â”€ README.md
â”œâ”€â”€ compose.yaml
â”œâ”€â”€ flask
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ config.py
â”‚   â”œâ”€â”€ run.py
â”‚   â”œâ”€â”€ instance
â”‚   â”‚   â”œâ”€â”€ devp-data.sqlite
â”‚   â”‚   â””â”€â”€ test-data.sqlite
â”‚   â”œâ”€â”€ app
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ forms.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”œâ”€â”€ static
â”‚   â”‚   â”œâ”€â”€ main
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ errors.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚   â”‚       â”œâ”€â”€ 404.html
â”‚   â”‚   â”‚       â””â”€â”€ 500.html
â”‚   â”‚   â”œâ”€â”€ cart
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚   â”‚       â”œâ”€â”€ details.html
â”‚   â”‚   â”‚       â””â”€â”€ payment.html
â”‚   â”‚   â”œâ”€â”€ orders
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚   â”‚       â”œâ”€â”€ order_delete.html
â”‚   â”‚   â”‚       â”œâ”€â”€ order_edit.html
â”‚   â”‚   â”‚       â”œâ”€â”€ order_page.html
â”‚   â”‚   â”‚       â””â”€â”€ order_query.html
â”‚   â”‚   â”œâ”€â”€ products
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ routes.py
â”‚   â”‚   â”‚   â””â”€â”€ templates
â”‚   â”‚   â”‚       â”œâ”€â”€ add_product.html
â”‚   â”‚   â”‚       â”œâ”€â”€ delete_product.html
â”‚   â”‚   â”‚       â”œâ”€â”€ product.html
â”‚   â”‚   â”‚       â”œâ”€â”€ product_page.html
â”‚   â”‚   â”‚       â””â”€â”€ update_product.html
â”‚   â”‚   â”œâ”€â”€ templates
â”‚   â”‚   â”‚   â”œâ”€â”€ about.html
â”‚   â”‚   â”‚   â”œâ”€â”€ base.html
â”‚   â”‚   â”‚   â”œâ”€â”€ footer.html
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â”‚   â”œâ”€â”€ navbar.html
â”‚   â”‚   â”‚   â””â”€â”€ shopping_cart.html
â”‚   â”‚   â””â”€â”€ users
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ routes.py
â”‚   â”‚       â””â”€â”€ templates
â”‚   â”‚           â”œâ”€â”€ register.html
â”‚   â”‚           â”œâ”€â”€ sign-in.html
â”‚   â”‚           â””â”€â”€ user_menu.html
â”‚   â””â”€â”€ tests
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ test_main.py
â””â”€â”€ nginx
    â”œâ”€â”€ default.conf
    â””â”€â”€ nginx.conf
```